<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–í–∞—Å–∏–ª–∏–∫–∏ ‚Ä¢ –ú–∞–Ω–∏–∫—é—Ä –≤ –ú–æ—Å–∫–≤–µ</title>
  <meta name="description" content="–ó–∞–ø–∏—à–∏—Ç–µ—Å—å –æ–Ω–ª–∞–π–Ω –∑–∞ 30 —Å–µ–∫—É–Ω–¥ ‚Ä¢ –°—Ç–µ—Ä–∏–ª—å–Ω–æ—Å—Ç—å 100% ‚Ä¢ –ë–æ–ª–µ–µ 5 –ª–µ—Ç –æ–ø—ã—Ç–∞">
  <meta property="og:title" content="–í–∞—Å–∏–ª–∏–∫–∏ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –º–∞–Ω–∏–∫—é—Ä –≤ –ú–æ—Å–∫–≤–µ">
  <meta property="og:description" content="–ó–∞–ø–∏—à–∏—Ç–µ—Å—å –æ–Ω–ª–∞–π–Ω –∑–∞ 30 —Å–µ–∫—É–Ω–¥">
  <meta property="og:image" content="https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.—Ä—Ñ/calendar/preview.jpg">
  <meta name="theme-color" content="#c9a08a">

  <link rel="manifest" href="/calendar/manifest.json">
  <link rel="apple-touch-icon" href="/calendar/icon-192.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- HERO —Å –ø–∞—Ä–∞–ª–ª–∞–∫—Å–æ–º -->
  <section class="hero-parallax">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">–í–∞—Å–∏–ª–∏–∫–∏</h1>
        <p class="hero-subtitle">–ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞–Ω–∏–∫—é—Ä –≤ –ú–æ—Å–∫–≤–µ</p>
        <a href="calendar.html" class="btn-hero">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –æ–Ω–ª–∞–π–Ω</a>
      </div>
    </div>
  </section>

  <!-- –ü–æ—á–µ–º—É –º–µ–Ω—è –≤—ã–±–∏—Ä–∞—é—Ç -->
  <section class="features-section">
    <div class="container">
      <h2 class="section-title">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –º–µ–Ω—è</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">Sterile</div>
          <h3>100% —Å—Ç–µ—Ä–∏–ª—å–Ω–æ—Å—Ç—å</h3>
          <p>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –∫—Ä–∞—Ñ—Ç-–ø–∞–∫–µ—Ç–∞—Ö</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">Experience</div>
          <h3>5+ –ª–µ—Ç –æ–ø—ã—Ç–∞</h3>
          <p>–ë–æ–ª–µ–µ 3000 –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–∫</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">Quality</div>
          <h3>–¢–æ–ª—å–∫–æ –ø—Ä–µ–º–∏—É–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
          <p>Luxio, Luna, Kodi Professional</p>
        </div>
      </div>
    </div>
  </section>

  <!-- –ö–∞—Ä—Ç–∞ 2GIS -->
  <section class="map-section">
    <div class="container">
      <h2 class="section-title">–ì–¥–µ —è —Ä–∞–±–æ—Ç–∞—é</h2>
      <div id="dgis-map"></div>
    </div>
  </section>

  <!-- –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ‚Äî –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
  <section class="cta-section">
    <div class="container">
      <a href="calendar.html" class="btn-cta">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</a>
    </div>
  </section>

  <!-- PWA –∫–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ -->
  <button id="installButton" class="install-btn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
<!-- –ù–ï–ü–†–ò–ú–ï–¢–ù–ê–Ø –ö–ù–û–ü–û–ß–ö–ê –î–õ–Ø –ú–ê–°–¢–ï–†–û–í ‚Äî –í –§–£–¢–ï–†–ï -->
<footer style="margin-top:120px;padding:40px 20px;text-align:center;color:#999;font-size:0.9rem;">
  <p style="margin-bottom:16px;">¬© 2025 –í–∞—Å–∏–ª–∏–∫–∏ ‚Ä¢ –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞–Ω–∏–∫—é—Ä –≤ –ú–æ—Å–∫–≤–µ</p>
  
  <!-- –í–û–¢ –û–ù–ê ‚Äî –°–ö–†–û–ú–ù–ê–Ø, –ù–û –°–ú–ï–†–¢–ï–õ–¨–ù–ê–Ø -->
  <a href="/admin/master-login.html" 
     style="color:#c9a08a;text-decoration:none;font-weight:500;font-size:0.95rem;
            padding:8px 16px;border:1px solid #c9a08a;border-radius:50px;
            transition:all 0.3s;opacity:0.7;"
     onmouseover="this.style.opacity=1;this.style.background='rgba(201,160,138,0.08)'"
     onmouseout="this.style.opacity=0.7;this.style.background='transparent'">
    –í–æ–π—Ç–∏ –∫–∞–∫ –º–∞—Å—Ç–µ—Ä
  </a>
</footer>
  <!-- === 2GIS + PWA ‚Äî –†–ê–ë–û–ß–ê–Ø –í–ï–†–°–ò–Ø 2025 === -->
 <script>
  document.addEventListener("DOMContentLoaded", () => {
    const mapSection = document.querySelector('.map-section');
    const observer = new IntersectionObserver((entries) => {
      if (entries[0].isIntersecting) {
        load2GIS();
        observer.unobserve(mapSection);
      }
    }, { rootMargin: "300px" });
    observer.observe(mapSection);
  });

  function load2GIS() {
    // –ï—Å–ª–∏ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω ‚Äî —Å—Ä–∞–∑—É —Ä–∏—Å—É–µ–º
    if (window.DG && typeof DG.map === 'function') {
      initMap();
      return;
    }

    // –ì—Ä—É–∑–∏–º —Å–∫—Ä–∏–ø—Ç
    const script = document.createElement('script');
    script.src = "https://maps.api.2gis.ru/2.0/loader.js?pkg=full";
    script.async = true;

    script.onload = () => {
      // –ñ–¥—ë–º –∏–º–µ–Ω–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é DG (–∏–Ω–æ–≥–¥–∞ DG.then –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç)
      const waitForDG = setInterval(() => {
        if (window.DG && DG.map) {
          clearInterval(waitForDG);
          initMap();
        }
      }, 100);

      // –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π —Ç–∞–π–º–∞—É—Ç 8 —Å–µ–∫
      setTimeout(() => clearInterval(waitForDG), 8000);
    };

    script.onerror = showFallback;
    document.head.appendChild(script);
  }

  function initMap() {
    DG.map('dgis-map', {
      center: [55.7558, 37.6173],   // ‚Üê –ø–æ–º–µ–Ω—è–π –Ω–∞ —Å–≤–æ–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
      zoom: 16,
      scrollWheelZoom: false
    }).then(map => {
      DG.marker([55.7558, 37.6173])
        .addTo(map)
        .bindPopup('–í–∞—Å–∏–ª–∏–∫–∏ ‚Ä¢ –ú–∞–Ω–∏–∫—é—Ä –≤ –ú–æ—Å–∫–≤–µ')
        .openPopup();
    }).catch(showFallback);
  }

  function showFallback() {
    document.getElementById('dgis-map').innerHTML = `
      <div style="height:520px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#faf8f5;color:#6b5b5b;font-size:1.5rem;border-radius:32px;padding:40px;text-align:center;">
        <div style="font-size:5rem;margin-bottom:20px">üìç</div>
        <div>–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.25</div>
        <div style="margin-top:16px;font-size:1.1rem;color:#8a6f5b">
          –ö–∞—Ä—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞<br>–ù–æ —è –∂–¥—É –≤–∞—Å –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É ‚ù§Ô∏è
        </div>
      </div>
    `;
  }

  // PWA –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  let deferredPrompt;
  window.addEventListener('beforeinstallprompt', e => {
    e.preventDefault();
    deferredPrompt = e;
    document.getElementById('installButton').style.display = 'block';
  });
  document.getElementById('installButton').onclick = () => {
    document.getElementById('installButton').style.display = 'none';
    deferredPrompt.prompt();
  };
</script>

</body>
</html>